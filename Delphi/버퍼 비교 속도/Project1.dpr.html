<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>File generated by DelphiDabbler PasH Pascal Highlighter</title>
<meta name="generator" content="DelphiDabbler PasH Pascal Highlighter" />
<style type="text/css">
<!--
.pas-source {font-family: "Courier New", monospace; font-size: 9pt;}
.pas-comment {font-style: italic; font-weight: normal; text-decoration: none; color: #000080; }
.pas-kwd {font-style: normal; font-weight: bold; text-decoration: none; }
.pas-str {font-style: normal; font-weight: normal; text-decoration: none; color: #800080; }
.pas-num {font-style: normal; font-weight: normal; text-decoration: none; color: #800000; }
.pas-float {font-style: normal; font-weight: normal; text-decoration: none; color: #800000; }
.pas-hex {font-style: normal; font-weight: normal; text-decoration: none; color: #800000; }
.pas-preproc {font-style: normal; font-weight: normal; text-decoration: none; color: #008000; }
.pas-asm {font-style: italic; font-weight: normal; text-decoration: none; }
.pas-err {font-style: normal; font-weight: normal; text-decoration: none; color: #FF0000; }
-->
</style>
</head>
<body>
<pre class="pas-source">   <span class="pas-num">0</span> : 
   <span class="pas-num">1</span> : <span class="pas-kwd">program</span> Project1;
   <span class="pas-num">2</span> : 
   <span class="pas-num">3</span> : <span class="pas-preproc">{$APPTYPE CONSOLE}</span>
   <span class="pas-num">4</span> : 
   <span class="pas-num">5</span> : <span class="pas-kwd">uses</span>
   <span class="pas-num">6</span> :   SysUtils, Windows, CompareBytes;
   <span class="pas-num">7</span> : 
   <span class="pas-num">8</span> : <span class="pas-kwd">type</span>
   <span class="pas-num">9</span> :   TItem = <span class="pas-kwd">packed</span> <span class="pas-kwd">array</span> [<span class="pas-num">0</span>..<span class="pas-num">1023</span>] <span class="pas-kwd">of</span> byte;
  <span class="pas-num">10</span> : 
  <span class="pas-num">11</span> : <span class="pas-kwd">var</span>
  <span class="pas-num">12</span> :   X : integer;
  <span class="pas-num">13</span> :   Y : ^integer;
  <span class="pas-num">14</span> :   Loop, ExTick, iSize : integer;
  <span class="pas-num">15</span> :   Buffer1, Buffer2 : <span class="pas-kwd">packed</span> <span class="pas-kwd">array</span> [<span class="pas-num">0</span>..<span class="pas-hex">$FFFF</span>] <span class="pas-kwd">of</span> TItem;
  <span class="pas-num">16</span> : 
  <span class="pas-num">17</span> : <span class="pas-kwd">procedure</span> Inc(<span class="pas-kwd">var</span> X:integer); 
  <span class="pas-num">18</span> : <span class="pas-kwd">asm</span>
  <span class="pas-asm">19</span> <span class="pas-asm">:</span>   <span class="pas-asm">mov</span> <span class="pas-asm">eax</span><span class="pas-asm">,</span> <span class="pas-asm">X</span>
  <span class="pas-asm">20</span> <span class="pas-asm">:</span>   <span class="pas-asm">mov</span> <span class="pas-asm">edx</span><span class="pas-asm">,</span> <span class="pas-asm">[</span><span class="pas-asm">eax</span><span class="pas-asm">]</span>
  <span class="pas-asm">21</span> <span class="pas-asm">:</span>   <span class="pas-asm">inc</span> <span class="pas-asm">edx</span>
  <span class="pas-asm">22</span> <span class="pas-asm">:</span>   <span class="pas-asm">mov</span> <span class="pas-asm">[</span><span class="pas-asm">eax</span><span class="pas-asm">]</span><span class="pas-asm">,</span> <span class="pas-asm">edx</span>
  <span class="pas-asm">23</span> <span class="pas-asm">:</span> <span class="pas-kwd">end</span>;
  <span class="pas-num">24</span> : 
  <span class="pas-num">25</span> : <span class="pas-kwd">procedure</span> Inc2(<span class="pas-kwd">var</span> X:integer);
  <span class="pas-num">26</span> : <span class="pas-kwd">begin</span>
  <span class="pas-num">27</span> :   <span class="pas-kwd">asm</span>
  <span class="pas-asm">28</span> <span class="pas-asm">:</span>     <span class="pas-asm">mov</span> <span class="pas-asm">eax</span><span class="pas-asm">,</span> <span class="pas-asm">X</span>
  <span class="pas-asm">29</span> <span class="pas-asm">:</span>     <span class="pas-asm">mov</span> <span class="pas-asm">edx</span><span class="pas-asm">,</span> <span class="pas-asm">[</span><span class="pas-asm">eax</span><span class="pas-asm">]</span>
  <span class="pas-asm">30</span> <span class="pas-asm">:</span>     <span class="pas-asm">inc</span> <span class="pas-asm">edx</span>
  <span class="pas-asm">31</span> <span class="pas-asm">:</span>     <span class="pas-asm">mov</span> <span class="pas-asm">[</span><span class="pas-asm">eax</span><span class="pas-asm">]</span><span class="pas-asm">,</span> <span class="pas-asm">edx</span>
  <span class="pas-asm">32</span> <span class="pas-asm">:</span>   <span class="pas-kwd">end</span>;
  <span class="pas-num">33</span> : <span class="pas-kwd">end</span>;
  <span class="pas-num">34</span> : 
  <span class="pas-num">35</span> : <span class="pas-kwd">begin</span>
  <span class="pas-num">36</span> :   FillChar(Buffer1, <span class="pas-hex">$FFFFF</span>+<span class="pas-num">1</span>, <span class="pas-num">0</span>);
  <span class="pas-num">37</span> :   FillChar(Buffer2, <span class="pas-hex">$FFFFF</span>+<span class="pas-num">1</span>, <span class="pas-num">0</span>);
  <span class="pas-num">38</span> : 
  <span class="pas-num">39</span> :   ExTick:= GetTickCount;
  <span class="pas-num">40</span> :   <span class="pas-kwd">for</span> Loop := <span class="pas-num">0</span> <span class="pas-kwd">to</span> <span class="pas-hex">$FFFF</span> <span class="pas-kwd">do</span>
  <span class="pas-num">41</span> :     CompareMem(@Buffer1[Loop], @Buffer2[Loop], <span class="pas-num">1024</span>);
  <span class="pas-num">42</span> :   WriteLn(<span class="pas-str">'CompareMem : '</span>, GetTickCount-ExTick);
  <span class="pas-num">43</span> : 
  <span class="pas-num">44</span> :   ExTick:= GetTickCount;
  <span class="pas-num">45</span> :   <span class="pas-kwd">for</span> Loop := <span class="pas-num">0</span> <span class="pas-kwd">to</span> <span class="pas-hex">$FFFF</span> <span class="pas-kwd">do</span>
  <span class="pas-num">46</span> :     CompareFastBytes(@Buffer1[Loop], @Buffer2[Loop], <span class="pas-num">1024</span>);
  <span class="pas-num">47</span> :   WriteLn(<span class="pas-str">'CompareFastBytes : '</span>, GetTickCount-ExTick);
  <span class="pas-num">48</span> : 
  <span class="pas-num">49</span> :   X:= <span class="pas-num">0</span>;
  <span class="pas-num">50</span> :   ExTick:= GetTickCount;
  <span class="pas-num">51</span> :   <span class="pas-kwd">for</span> Loop := <span class="pas-num">0</span> <span class="pas-kwd">to</span> <span class="pas-hex">$FFFFFFF</span> <span class="pas-kwd">do</span> Inc(X);
  <span class="pas-num">52</span> :   WriteLn(<span class="pas-str">'Inc : '</span>, GetTickCount-ExTick);
  <span class="pas-num">53</span> : 
  <span class="pas-num">54</span> :   X:= <span class="pas-num">0</span>;
  <span class="pas-num">55</span> :   ExTick:= GetTickCount;
  <span class="pas-num">56</span> :   <span class="pas-kwd">for</span> Loop := <span class="pas-num">0</span> <span class="pas-kwd">to</span> <span class="pas-hex">$FFFFFFF</span> <span class="pas-kwd">do</span> Inc2(X);
  <span class="pas-num">57</span> :   WriteLn(<span class="pas-str">'Inc2 : '</span>, GetTickCount-ExTick);
  <span class="pas-num">58</span> : 
  <span class="pas-num">59</span> :   X:= <span class="pas-num">0</span>;
  <span class="pas-num">60</span> :   Y:= @X;
  <span class="pas-num">61</span> :   ExTick:= GetTickCount;
  <span class="pas-num">62</span> :   <span class="pas-kwd">for</span> Loop := <span class="pas-num">0</span> <span class="pas-kwd">to</span> <span class="pas-hex">$FFFFFFF</span> <span class="pas-kwd">do</span>
  <span class="pas-num">63</span> :     <span class="pas-kwd">asm</span>
  <span class="pas-asm">64</span> <span class="pas-asm">:</span>       <span class="pas-asm">mov</span> <span class="pas-asm">eax</span><span class="pas-asm">,</span> <span class="pas-asm">Y</span>
  <span class="pas-asm">65</span> <span class="pas-asm">:</span>       <span class="pas-asm">mov</span> <span class="pas-asm">edx</span><span class="pas-asm">,</span> <span class="pas-asm">[</span><span class="pas-asm">eax</span><span class="pas-asm">]</span>
  <span class="pas-asm">66</span> <span class="pas-asm">:</span>       <span class="pas-asm">inc</span> <span class="pas-asm">edx</span>
  <span class="pas-asm">67</span> <span class="pas-asm">:</span>       <span class="pas-asm">mov</span> <span class="pas-asm">[</span><span class="pas-asm">eax</span><span class="pas-asm">]</span><span class="pas-asm">,</span> <span class="pas-asm">edx</span>
  <span class="pas-asm">68</span> <span class="pas-asm">:</span>     <span class="pas-kwd">end</span>;
  <span class="pas-num">69</span> :   WriteLn(<span class="pas-str">'asm : '</span>, GetTickCount-ExTick);
  <span class="pas-num">70</span> : 
  <span class="pas-num">71</span> :   ReadLn;
  <span class="pas-num">72</span> : <span class="pas-kwd">end</span>.</pre>
</body>
</html>
